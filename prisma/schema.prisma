generator client {
    provider = "prisma-client-js"
}

datasource db {
    provider = "mysql"
    url      = env("DATABASE_URL")
}

enum role {
    USER
    ADMIN
}

enum BookingStatus {
    PENDING
    CONFIRMED
    CANCELLED
}

model User {
    id       Int      @id @default(autoincrement())
    name      String
    email     String    @unique
    password  String    
    role      role      @default(USER) 
    createdAt DateTime  @default(now())

    // relasi data user dengan booking
    bookings  Booking[]
}

model Venue {
    id           Int       @id @default(autoincrement())
    name         String
    description  String?   // "?" boleh kosong
    pricePerHour Int       
    image        String   
    createdAt    DateTime  @default(now())

    bookings     Booking[]
}

model Booking { 
    id        Int       @id @default(autoincrement())
    userId    Int
    venueId   Int
    date      DateTime  
    hours     Int       
    totalPrice Int      
    status    BookingStatus @default(PENDING) 
    createdAt DateTime  @default(now())

    user      User      @relation(fields: [userId], references: [id])
    venue     Venue     @relation(fields: [venueId], references: [id])
}